---
import DirectusImage from "@/components/ui/DirectusImage.astro";
const props = Astro.props;

// Build URL path to project detail page
const href = `/project/${props.slug}`;
---

<article class="group relative flex flex-col bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-200">
  {props.image && typeof props.image !== 'string' && (
    <div class="h-48 w-full overflow-hidden">
      <DirectusImage
        imageId={props.image as string}
        class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-300"
      />
    </div>
  )}

  <div class="p-6 flex flex-col flex-1">
    {props.title && (
      <h3 class="text-xl font-semibold text-gray-900 mb-2 group-hover:text-primary transition-colors">{props.title}</h3>
    )}

    {props.description && (
      <p class="text-gray-600 text-sm mb-4 line-clamp-3">{props.description}</p>
    )}

    <div class="mt-auto">
      <a  href={href} class="w-full justify-center">
        View Project
      </a>
    </div>
  </div>
</article>

