---
import Section from '@/layouts/Section.astro';
import Button from '@/components/ui/Button.astro';
import type { Projects } from '@/types/directusCollection';
import DirectusImage from '@/components/ui/DirectusImage.astro';

const props = Astro.props as Projects;

const {
  title,
  description,
  cover_image,
  content,
  published_At
} = props;
console.log(cover_image)
---

<Section 
  fullWidth 
  class="bg-white py-24 px-4 md:px-16 space-y-16">
  <!-- Header -->
  <div class="space-y-4 max-w-4xl">
    <p class="text-sm text-gray-500 uppercase tracking-widest">
      {published_At && new Date(published_At).toLocaleDateString()}
    </p>
  
   <h1 class="tracking-tighter text-[10vw] inline-block text-pretty break-keep leading-[.99] uppercase text-center">
      {title}
        </h1>


    {description && (
      <p class="text-lg text-gray-600">{description}</p>
    )}
    
  {cover_image && (
    <div class="w-full bg-accent rounded-xl flex items-center justify-center">
      <DirectusImage
        imageId={cover_image}
      class="object-cover w-full rounded"

      />
    </div>
  )}
  </div>
  <div class="py-12 relative z-0 w-full">
    <hr class="relative z-0" />
    <Button  
      size='lg'
      className={'absolute z-10 right-12 -top-12 md:right-24 md:-top-24'}> 

      See Live Site 
    </Button>
  </div>

  {content && (
    <div class="prose prose-lg max-w-3xl text-gray-800">
      <Fragment set:html={content} />
    </div>
  )}
</Section>

